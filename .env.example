# Kafka
KAFKA_BROKER=kafka:9092
KAFKA_TOPIC_RAW=cdr_raw
KAFKA_TOPIC_FLAT=cdr_flattened
KAFKA_TOPIC_ERROR=cdr_error
KAFKA_SECURITY_PROTOCOL=PLAINTEXT

# Producer tuning
PRODUCER_LINGER_MS=5
PRODUCER_BATCH_BYTES=32768
PRODUCER_COMPRESSION=lz4
PRODUCER_RETRIES=10
PRODUCER_ENABLE_IDEMPOTENCE=true
PRODUCER_MAX_IN_FLIGHT=5

# Spark
SPARK_CHECKPOINT_DIR=/spark-checkpoints/cdr
SPARK_READ_STARTING_OFFSETS=latest
SPARK_MAX_OFFSETS_PER_TRIGGER=10000
SPARK_WATERMARK_MINUTES=10
SPARK_WINDOW_MINUTES=5
SPARK_FAIL_ON_DATA_LOSS=true

# Postgres
POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_DB=cdrdb
POSTGRES_DB_SCHEMA=public
POSTGRES_USER=admin
POSTGRES_PASSWORD=changeme
POSTGRES_JDBC_OPTIONS=stringtype=unspecified

# Generator
GENERATOR_RATE_PER_SEC=10
GENERATOR_SEED=42
GENERATOR_CONFIG=/opt/app/config/generator.yml
LOGGING_CONFIG=/opt/app/config/logging.json
CDR_SCHEMA=/opt/app/common/schemas/cdr_schema.json
